<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>An Improved Illumination Model for Shaded Display: D:/ComputerGraphics/testing-things-master/src/main.cu File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">An Improved Illumination Model for Shaded Display
   </div>
   <div id="projectbrief">A simple ray tracer made with CUDA, C++, and OpenGL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.cu File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;cuda_runtime.h&quot;</code><br />
<code>#include &quot;device_launch_parameters.h&quot;</code><br />
<code>#include &lt;GL/glew.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;GLFW/glfw3.h&gt;</code><br />
<code>#include &quot;Shader.h&quot;</code><br />
<code>#include &quot;VertexBuffer.h&quot;</code><br />
<code>#include &quot;IndexBuffer.h&quot;</code><br />
<code>#include &quot;vert_array_quick_bind.h&quot;</code><br />
<code>#include &quot;Global_Bind_Test.h&quot;</code><br />
<code>#include &quot;freecam.h&quot;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &quot;artefact.h&quot;</code><br />
<code>#include &lt;stb_image/stb_image.h&gt;</code><br />
<code>#include &quot;cudaGL.h&quot;</code><br />
<code>#include &quot;cuda_gl_interop.h&quot;</code><br />
<code>#include &lt;thrust/device_vector.h&gt;</code><br />
<code>#include &quot;Texture.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ray_8cuh.html">ray.cuh</a>&quot;</code><br />
<code>#include &quot;sphere.cuh&quot;</code><br />
<code>#include &quot;scene.cuh&quot;</code><br />
<code>#include &lt;float.h&gt;</code><br />
<code>#include &quot;ray_tracing_camera.cuh&quot;</code><br />
<code>#include &lt;curand_kernel.h&gt;</code><br />
<code>#include &lt;glm/gtc/random.hpp&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8b27c54944ff648eccb8c97dac8ec003"><td class="memItemLeft" align="right" valign="top"><a id="a8b27c54944ff648eccb8c97dac8ec003"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a8b27c54944ff648eccb8c97dac8ec003">gpuCheckErrs</a>(ans)&#160;&#160;&#160;{ <a class="el" href="main_8cu.html#ab3e90881a2476fd461eb2bcfcaa7cf63">gpuAssert</a>((ans), __FILE__, __LINE__); }</td></tr>
<tr class="memdesc:a8b27c54944ff648eccb8c97dac8ec003"><td class="mdescLeft">&#160;</td><td class="mdescRight">error checking support <br /></td></tr>
<tr class="separator:a8b27c54944ff648eccb8c97dac8ec003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88753827be6eabf164284b13145f4e62"><td class="memItemLeft" align="right" valign="top"><a id="a88753827be6eabf164284b13145f4e62"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a88753827be6eabf164284b13145f4e62">RANDVEC3</a>&#160;&#160;&#160;vec3(curand_uniform(local_rand_state),curand_uniform(local_rand_state),curand_uniform(local_rand_state))</td></tr>
<tr class="memdesc:a88753827be6eabf164284b13145f4e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">A random state uniform from the CuRanD library is returned. <br /></td></tr>
<tr class="separator:a88753827be6eabf164284b13145f4e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3e90881a2476fd461eb2bcfcaa7cf63"><td class="memItemLeft" align="right" valign="top"><a id="ab3e90881a2476fd461eb2bcfcaa7cf63"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#ab3e90881a2476fd461eb2bcfcaa7cf63">gpuAssert</a> (cudaError_t code, const char *file, int line, bool abort=true)</td></tr>
<tr class="memdesc:ab3e90881a2476fd461eb2bcfcaa7cf63"><td class="mdescLeft">&#160;</td><td class="mdescRight">call inside this function for CUDA error checking. <br /></td></tr>
<tr class="separator:ab3e90881a2476fd461eb2bcfcaa7cf63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a03742730ee18146ac96231fe380382"><td class="memItemLeft" align="right" valign="top"><a id="a7a03742730ee18146ac96231fe380382"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a7a03742730ee18146ac96231fe380382">MouseControlWrapper</a> (GLFWwindow *window, double mouse_x, double mouse_y)</td></tr>
<tr class="memdesc:a7a03742730ee18146ac96231fe380382"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function for the mouse controller. <br /></td></tr>
<tr class="separator:a7a03742730ee18146ac96231fe380382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa432fb0ced7dbf472b08d4579f6666d1"><td class="memItemLeft" align="right" valign="top"><a id="aa432fb0ced7dbf472b08d4579f6666d1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#aa432fb0ced7dbf472b08d4579f6666d1">ScrollControlWrapper</a> (GLFWwindow *window, double x_disp, double y_disp)</td></tr>
<tr class="memdesc:aa432fb0ced7dbf472b08d4579f6666d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper class for the scroll controller. <br /></td></tr>
<tr class="separator:aa432fb0ced7dbf472b08d4579f6666d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f53840f62f2e13199550bde2a4ed21"><td class="memItemLeft" align="right" valign="top">__device__ vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#ad5f53840f62f2e13199550bde2a4ed21">random_in_unit_sphere</a> (curandState *local_rand_state)</td></tr>
<tr class="separator:ad5f53840f62f2e13199550bde2a4ed21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104d60ba97b171ab1b7407b466fd1a87"><td class="memItemLeft" align="right" valign="top">__global__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a104d60ba97b171ab1b7407b466fd1a87">make_scene</a> (<a class="el" href="classsphere.html">sphere</a> **spheres, <a class="el" href="classscene.html">scene</a> **dev_ptr, int count)</td></tr>
<tr class="separator:a104d60ba97b171ab1b7407b466fd1a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2422c86aafeab5e1bce0c66ccbaa88"><td class="memItemLeft" align="right" valign="top">__device__ vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a4b2422c86aafeab5e1bce0c66ccbaa88">reflect</a> (vec3 v, vec3 n)</td></tr>
<tr class="separator:a4b2422c86aafeab5e1bce0c66ccbaa88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8505334b61cbd4f9b338d7ede63ec5"><td class="memItemLeft" align="right" valign="top">__device__ vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#aac8505334b61cbd4f9b338d7ede63ec5">refract</a> (vec3 uv, vec3 n, float etai_over_etat)</td></tr>
<tr class="separator:aac8505334b61cbd4f9b338d7ede63ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93c9ffc0bed78292ddd43b49ee1bccb"><td class="memItemLeft" align="right" valign="top"><a id="ae93c9ffc0bed78292ddd43b49ee1bccb"></a>
__device__ vec3&#160;</td><td class="memItemRight" valign="bottom"><b>ofset</b> (<a class="el" href="classray.html">ray</a> r, vec3 origin)</td></tr>
<tr class="separator:ae93c9ffc0bed78292ddd43b49ee1bccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c9065581e773e9733e5cd93ac2489a"><td class="memItemLeft" align="right" valign="top">__device__ vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a37c9065581e773e9733e5cd93ac2489a">pix_data3</a> (<a class="el" href="classray.html">ray</a> r, unsigned char *sky, int su, int sv, <a class="el" href="classscene.html">scene</a> **sc, curandState *local_rand_state, int depth)</td></tr>
<tr class="separator:a37c9065581e773e9733e5cd93ac2489a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957a67d1f8d28eb9b6ac29b1631e235a"><td class="memItemLeft" align="right" valign="top">__global__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a957a67d1f8d28eb9b6ac29b1631e235a">render</a> (unsigned char *pix_buff_loc, int max_x, int max_y, unsigned char *sky, <a class="el" href="classscene.html">scene</a> **sc, curandState *rand_state)</td></tr>
<tr class="separator:a957a67d1f8d28eb9b6ac29b1631e235a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c421d820bcf47c13aa9f0ce9a3b569"><td class="memItemLeft" align="right" valign="top">__global__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a06c421d820bcf47c13aa9f0ce9a3b569">render_init</a> (curandState *rand_state)</td></tr>
<tr class="separator:a06c421d820bcf47c13aa9f0ce9a3b569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9095625cba7ceb015c94ae3ab6df952e"><td class="memItemLeft" align="right" valign="top">__global__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#a9095625cba7ceb015c94ae3ab6df952e">add_spheres</a> (<a class="el" href="classsphere.html">sphere</a> **sph, int count)</td></tr>
<tr class="separator:a9095625cba7ceb015c94ae3ab6df952e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc2d0db7e81e7eaf1ddb721309ef6736"><td class="memItemLeft" align="right" valign="top"><a id="adc2d0db7e81e7eaf1ddb721309ef6736"></a>
<a class="el" href="classfreecam.html">freecam</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cu.html#adc2d0db7e81e7eaf1ddb721309ef6736">primary_cam</a></td></tr>
<tr class="memdesc:adc2d0db7e81e7eaf1ddb721309ef6736"><td class="mdescLeft">&#160;</td><td class="mdescRight">The raster camera, not really needed, but since we are using an unmodified older shader that does need this, we left it in. <br /></td></tr>
<tr class="separator:adc2d0db7e81e7eaf1ddb721309ef6736"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9095625cba7ceb015c94ae3ab6df952e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9095625cba7ceb015c94ae3ab6df952e">&#9670;&nbsp;</a></span>add_spheres()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void add_spheres </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsphere.html">sphere</a> **&#160;</td>
          <td class="paramname"><em>sph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sph</td><td>Device pointer to thge GPU memory segment where the spheres are to be initialized. </td></tr>
    <tr><td class="paramname">count</td><td>The number of spheres in the scene.</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes the sphere objects, modify body to add remove, or resize the spheres. </p>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The main driver, sets up the GLFW OpenGL context, then the Textures and Pixel Buffer Object. Also renders the frame buffer to the Context. The Device pointers, shared memory, OpenGL interop are al configured within the body. The thread dispatch is also configured. Effectively the mfunction draws a fullscreen quad onto the context and then texture maps the ray traced pixel buffer which is shared with CUDA onto the Quad. </p>

</div>
</div>
<a id="a104d60ba97b171ab1b7407b466fd1a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a104d60ba97b171ab1b7407b466fd1a87">&#9670;&nbsp;</a></span>make_scene()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void make_scene </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsphere.html">sphere</a> **&#160;</td>
          <td class="paramname"><em>spheres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classscene.html">scene</a> **&#160;</td>
          <td class="paramname"><em>dev_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spheres</td><td>device pointer to the memory segment on the VRAM where the sphere definitions are present. </td></tr>
    <tr><td class="paramname">dev_ptr</td><td>dev_ptr device pointer to the GPU memory segment where the scene is to be set up. </td></tr>
    <tr><td class="paramname">count</td><td>The number of spheres in the scene. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a37c9065581e773e9733e5cd93ac2489a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c9065581e773e9733e5cd93ac2489a">&#9670;&nbsp;</a></span>pix_data3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__device__ vec3 pix_data3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classray.html">ray</a>&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>sky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>su</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classscene.html">scene</a> **&#160;</td>
          <td class="paramname"><em>sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">curandState *&#160;</td>
          <td class="paramname"><em>local_rand_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The ray with which the the intersection is done. </td></tr>
    <tr><td class="paramname">sky</td><td>A pointer to the sky texture character array. </td></tr>
    <tr><td class="paramname">su</td><td>The u co-ordinate of the sky pixel which needs to be projected. </td></tr>
    <tr><td class="paramname">sv</td><td>the v co-ordinate of the sky pixel which needs to be projected. </td></tr>
    <tr><td class="paramname">sc</td><td>The device pointer to the memory segment where the scene was set up. </td></tr>
    <tr><td class="paramname">local_rand_state</td><td>pointer to the CuRand state associated with current pixel. </td></tr>
    <tr><td class="paramname">depth</td><td>The maximum recursion depth.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the pixel color by recursively multiplying the attenuated colors, after 10 light bounces. The <b>device</b> declspec means that this function can only be called on the GPU. </p>

</div>
</div>
<a id="ad5f53840f62f2e13199550bde2a4ed21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5f53840f62f2e13199550bde2a4ed21">&#9670;&nbsp;</a></span>random_in_unit_sphere()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__device__ vec3 random_in_unit_sphere </td>
          <td>(</td>
          <td class="paramtype">curandState *&#160;</td>
          <td class="paramname"><em>local_rand_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">local_rand_state</td><td>A pointer the the CUDA random state</td></tr>
  </table>
  </dd>
</dl>
<p>Returns a point inside a unit sphere on the surface of the sphere where the ray intersection takes place. </p>

</div>
</div>
<a id="a4b2422c86aafeab5e1bce0c66ccbaa88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b2422c86aafeab5e1bce0c66ccbaa88">&#9670;&nbsp;</a></span>reflect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__device__ vec3 reflect </td>
          <td>(</td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The incident ray direction. </td></tr>
    <tr><td class="paramname">n</td><td>The unit vector of the normal at the intersection point.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the direction of the reflected ray. The <b>device</b> declspec means that this can only be called on the GPU. </p>

</div>
</div>
<a id="aac8505334b61cbd4f9b338d7ede63ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8505334b61cbd4f9b338d7ede63ec5">&#9670;&nbsp;</a></span>refract()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__device__ vec3 refract </td>
          <td>(</td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec3&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>etai_over_etat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uv</td><td>The direction vector of the incident ray. </td></tr>
    <tr><td class="paramname">n</td><td>The normal at the point where the ray intersects the sphere. </td></tr>
    <tr><td class="paramname">etai_over_etat</td><td>The refractive index of the spheres material.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the direction of the refracted ray the <b>device</b> declspec means that this can only be called on the GPU. </p>

</div>
</div>
<a id="a957a67d1f8d28eb9b6ac29b1631e235a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957a67d1f8d28eb9b6ac29b1631e235a">&#9670;&nbsp;</a></span>render()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void render </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pix_buff_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>sky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classscene.html">scene</a> **&#160;</td>
          <td class="paramname"><em>sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">curandState *&#160;</td>
          <td class="paramname"><em>rand_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pix_buff_loc</td><td>A device pointer to the segment of memory on the GPU with the OpenGL pixel buffer object. </td></tr>
    <tr><td class="paramname">sky</td><td>A pointer to the sky texture character array. </td></tr>
    <tr><td class="paramname">max_x</td><td>The index of the left_most pixel of the frame buffer. </td></tr>
    <tr><td class="paramname">max_y</td><td>The index of the right most pixel of the frame buffer. </td></tr>
    <tr><td class="paramname">rand_state</td><td>pointer to the array of CuRand states. </td></tr>
    <tr><td class="paramname">sc</td><td>Device pointer to the segment of memory containing the scene object.</td></tr>
  </table>
  </dd>
</dl>
<p>Populates the pixel buffer with appropriate pixel colors and intensities, by implementing the ray tracing algorithm. MultiSample AntiAliasing is also implemented(Sample Count = 100). The <b>device</b> declspec means that this function can only be called on the GPU. </p>

</div>
</div>
<a id="a06c421d820bcf47c13aa9f0ce9a3b569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c421d820bcf47c13aa9f0ce9a3b569">&#9670;&nbsp;</a></span>render_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void render_init </td>
          <td>(</td>
          <td class="paramtype">curandState *&#160;</td>
          <td class="paramname"><em>rand_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rand_state</td><td>Pointer to the GPU memory segment where the CuRand states are to be initailized.</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes CUDA random states at the given device pointer. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
